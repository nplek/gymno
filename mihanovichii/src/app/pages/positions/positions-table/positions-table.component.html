<div class="row">
    <div class="col-lg-12">
      <nb-card [hidden]="editorEnabled">
        <nb-card-header>
          Positions Table &nbsp;
        <button *nbIsGranted="['create', 'company']" type="button" class="btn btn-outline-success with-margins" (click)="onClickCreate()" title="New"><i class="fa fa-plus"></i></button>
        <button type="button" class="btn btn-primary with-margins" (click)="onClickRefresh()" title="Refresh"><i class="fa fa-sync"></i></button>
        </nb-card-header>

        <nb-card-body>
          <ng2-smart-table [settings]="settings" [source]="source" (custom)="onCustom($event)">
          </ng2-smart-table>
        </nb-card-body>
      </nb-card>
  </div>
</div>

<div class="row">
  <div class="col-lg-6">
    <form (ngSubmit)="onSubmit()" [formGroup]="positionForm">
    <nb-card [hidden]="!editorEnabled">
      <nb-card-header>{{ title }} Position</nb-card-header>
      <nb-card-body>
        <div class="form-group">
          <label>Name</label>
          <input type="hidden" class="form-control" formControlName="posId"/>
          <input type="text" placeholder="Name" class="form-control" name="name" formControlName="name"/>
          <div *ngIf="positionForm.controls.name.errors && positionForm.controls.name.dirty" >
            <p *ngIf="positionForm.controls.name.errors.required">Field is required</p>
            <p *ngIf="positionForm.controls.name.errors.minlength">Minimum {{ positionForm.controls.name.errors.minlength.requiredLength }} characters </p>
            <p *ngIf="positionForm.controls.name.errors.maxlength">Maximum {{ positionForm.controls.name.errors.maxlength.requiredLength }} characters </p>
          </div>
        </div>
        <div class="form-group">
          <label>Short Name</label>
          <input type="text" placeholder="Short Name" class="form-control" name="shortName" formControlName="shortName"/>
          <div *ngIf="positionForm.controls.shortName.errors && positionForm.controls.shortName.dirty">
            <p *ngIf="positionForm.controls.shortName.errors.required">Field is required</p>
            <p *ngIf="positionForm.controls.shortName.errors.minlength">Mininum {{positionForm.controls.shortName.errors.minlength.requiredLength }} characters </p>
            <p *ngIf="positionForm.controls.shortName.errors.maxlength">Maximum {{ positionForm.controls.shortName.errors.maxlength.requiredLength }} characters </p>
          </div>
        </div>
        <div class="form-group">
          <label>Status</label>
          <label class="custom-control custom-radio">
            <input type="radio" class="custom-control-input" id="active" value="A" name="active" formControlName="active">
            <span class="custom-control-indicator"></span>
            <span class="custom-control-description">Active</span>
          </label>
          <label class="custom-control custom-radio">
            <input type="radio" class="custom-control-input" id="inactive" value="I" name="active" formControlName="active" >
            <span class="custom-control-indicator"></span>
            <span class="custom-control-description">Inactive</span>
          </label>
          <div *ngIf="positionForm.controls.active.errors && positionForm.controls.active.dirty">
            <p *ngIf="positionForm.controls.active.errors.required">Field is required</p>
          </div>
        </div>
        <div class="form-group">
          <p *ngIf="message" style="color: red;">{{ message }}</p>
        </div>
      </nb-card-body>
      <nb-card-footer>
        <button type="submit" class="btn btn-success with-margins" [disabled]="!positionForm.valid" >{{title}}</button>
        <button type="button" class="btn btn-outline-info with-margins" (click)="onClickBack()">Back</button>
      </nb-card-footer>
    </nb-card>
    </form>
  </div>
</div>