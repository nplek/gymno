<div class="row">
  <div class="col-lg-12">
    <nb-card [hidden]="editorEnabled">
      <nb-card-header>
        Role Table 
        <button type="button" class="btn btn-outline-success with-margins" (click)="onClickCreate()" title="New"><i class="fa fa-plus"></i></button>
        <button type="button" class="btn btn-primary with-margins" (click)="onClickRefresh()" title="Refresh"><i class="fa fa-sync"></i></button>
      </nb-card-header>
    
      <nb-card-body>
        <ng2-smart-table [settings]="settings" [source]="source" (custom)="onCustom($event)">
        </ng2-smart-table>
      </nb-card-body>
    </nb-card>
  </div>
</div>

<div class="row">
  <div class="col-lg-6">
    <form (ngSubmit)="onSubmit()" [formGroup]="roleForm">
    <nb-card [hidden]="!editorEnabled">
      <nb-card-header>{{ title }} Role name</nb-card-header>
      <nb-card-body>
        <div class="form-group">
          <label>Name</label>
          <input type="hidden" class="form-control" formControlName="id"/>
          <input type="text" placeholder="Name" class="form-control" name="name" formControlName="name"/>
          <div *ngIf="roleForm.controls.name.errors && roleForm.controls.name.dirty" >
            <p *ngIf="roleForm.controls.name.errors.required">Field is required</p>
            <p *ngIf="roleForm.controls.name.errors.minlength">Minimum {{ roleForm.controls.name.errors.minlength.requiredLength }} characters </p>
            <p *ngIf="roleForm.controls.name.errors.maxlength">Maximum {{ roleForm.controls.name.errors.maxlength.requiredLength }} characters </p>
          </div>
        </div>
        <div class="form-group">
          <label>Display name</label>
          <input type="text" placeholder="Display Name" class="form-control" name="display_name" formControlName="display_name"/>
          <div *ngIf="roleForm.controls.display_name.errors && roleForm.controls.display_name.dirty" >
            <p *ngIf="roleForm.controls.display_name.errors.required">Field is required</p>
            <p *ngIf="roleForm.controls.display_name.errors.minlength">Minimum {{ roleForm.controls.display_name.errors.minlength.requiredLength }} characters </p>
            <p *ngIf="roleForm.controls.display_name.errors.maxlength">Maximum {{ roleForm.controls.display_name.errors.maxlength.requiredLength }} characters </p>
          </div>
        </div>
        <div class="form-group">
          <label>Description</label>
          <input type="text" placeholder="Description" class="form-control" name="description" formControlName="description"/>
          <div *ngIf="roleForm.controls.description.errors && roleForm.controls.description.dirty" >
            <p *ngIf="roleForm.controls.description.errors.required">Field is required</p>
            <p *ngIf="roleForm.controls.description.errors.minlength">Minimum {{ roleForm.controls.description.errors.minlength.requiredLength }} characters </p>
            <p *ngIf="roleForm.controls.description.errors.maxlength">Maximum {{ roleForm.controls.description.errors.maxlength.requiredLength }} characters </p>
          </div>
        </div>
        <div class="form-group">
          <label>Permissions</label>
          <br/>
          <ss-multiselect-dropdown [settings]="mySettings" [options]="permissionList" [texts]="myTexts" formControlName="permissions" [(ngModel)]="permissions" >
          </ss-multiselect-dropdown>
        </div>
        <div class="form-group">
          <p *ngIf="message" style="color: red;">{{ message }}</p>
        </div>
      </nb-card-body>
      <nb-card-footer>
        <button type="submit" class="btn btn-success with-margins" [disabled]="!roleForm.valid" >{{title}}</button>
        <button type="button" class="btn btn-outline-info with-margins" (click)="onClickBack()">Back</button>
        <button type="button" class="btn btn-outline-warning with-margins"  *ngIf="isDeleted" (click)="onClickRestore()">Restore</button>
      </nb-card-footer>
    </nb-card>
    </form>
  </div>
</div>
  